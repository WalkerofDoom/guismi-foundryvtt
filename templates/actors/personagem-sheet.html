<form class="{{cssClass}}" autocomplete="off">

  <header class="sheet-header">
    <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}"/>
    <div class="header-fields">
      <h1 class="charname"><input name="name" type="text" value="{{actor.name}}" placeholder="Nome do Personagem"/></h1>
      <div class="grid grid-3col">
        <div class="grid-span-1">
          <label>Espécie</label>
          <select name="system.detalhes.especie">
            <option value="">-- Nenhuma --</option>
            {{#each especies as |especie|}}
              <option value="{{especie.name}}" {{#if (eq especie.name ../actor.system.detalhes.especie)}}selected{{/if}}>{{especie.name}}</option>
            {{/each}}
          </select>
        </div>
        <div class="grid-span-1">
          <label>Caminho</label>
          <input type="text" name="system.detalhes.caminho" value="{{actor.system.detalhes.caminho}}" />
        </div>
        <div class="grid-span-1">
          <label>Nível</label>
          <input type="number" name="system.detalhes.nivel" value="{{actor.system.detalhes.nivel}}" />
        </div>
      </div>
    </div>
  </header>

  <nav class="sheet-tabs tabs" data-group="primary">
    <a class="item" data-tab="caracteristicas">Características</a>
    <a class="item" data-tab="habilidades">Habilidades</a>
    <a class="item" data-tab="inventario">Inventário</a>
    <a class="item" data-tab="biografia">Biografia</a>
  </nav>

  <section class="sheet-body">
    <div class="tab" data-group="primary" data-tab="caracteristicas">
      <div class="grid grid-3col">
        <div class="grid-span-1">
          <div class="box">
            <h3 class="box-header">Habilidades</h3>
            <div class="grid grid-atributos-header">
              <span></span><span>Valor</span><span>M2</span><span>M5</span>
            </div>
            {{#each actor.system.habilidades as |habilidade key|}}
            <div class="grid grid-atributos-row">
              <a class="rollable" data-type="habilidade" data-key="{{key}}">{{key}}</a>
              <input type="number" name="system.habilidades.{{key}}" value="{{habilidade}}" />
              <span>{{habilidade.m2}}</span><span>{{habilidade.m5}}</span>
            </div>
            {{/each}}
          </div>
          <div class="box">
            <h3 class="box-header">Recursos</h3>
            <div class="grid grid-recursos-row">
                <label>Vida</label>
                <input type="number" name="system.recursos.vida.value" value="{{actor.system.recursos.vida.value}}" />
                <span>/</span>
                <input type="number" name="system.recursos.vida.max" value="{{actor.system.vidaMax}}" />
            </div>
            <div class="grid grid-recursos-row">
                <label>Sangue</label>
                <input type="number" name="system.recursos.sangue.value" value="{{actor.system.recursos.sangue.value}}" />
                <span>/</span>
                <input type="number" name="system.recursos.sangue.max" value="{{actor.system.sangueMax}}" />
            </div>
          </div>
        </div>
        <div class="grid-span-2 box">
           <h3 class="box-header">Perícias</h3>
           <div class="grid grid-2col">
            {{#each actor.system.pericias as |pericia key|}}
              <div class="grid grid-pericias-row">
                <a class="rollable" data-type="pericia" data-key="{{key}}">{{key}}</a>
                <input type="number" name="system.pericias.{{key}}.valor" value="{{pericia.valor}}" />
                <span>M2: {{pericia.m2}}</span><span>M5: {{pericia.m5}}</span>
              </div>
            {{/each}}
           </div>
        </div>
      </div>
    </div>
    <div class="tab" data-group="primary" data-tab="habilidades">
      <div class="box">
        <h3 class="box-header">
          <span>Habilidades</span>
          <a class="item-control item-create" title="Adicionar Habilidade" data-type="habilidade"><i class="fas fa-plus"></i> Adicionar</a>
        </h3>
        <ol class="items-list">
          {{#each actor.items as |item id|}}
            {{#if (eq item.type "habilidade")}}
            <li class="item" data-item-id="{{item.id}}">
              <img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/>
              <h4 class="item-name">{{item.name}}</h4>
              <div class="item-controls">
                <a class="item-control item-edit" title="Editar Habilidade"><i class="fas fa-edit"></i></a>
                <a class="item-control item-delete" title="Excluir Habilidade"><i class="fas fa-trash"></i></a>
              </div>
            </li>
            {{/if}}
          {{/each}}
        </ol>
      </div>
    </div>
    <div class="tab" data-group="primary" data-tab="inventario">
      <div class="box">
        <h3 class="box-header">
          <span>Itens</span>
          <a class="item-control item-create" title="Adicionar Item" data-type="item"><i class="fas fa-plus"></i></a>
        </h3>
        <ol class="items-list">
          {{#each actor.items as |item id|}}
            {{#if (eq item.type "item")}}
            <li class="item" data-item-id="{{item.id}}">
              <img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/>
              <h4 class="item-name">{{item.name}}</h4>
              <div class="item-controls">
                <a class="item-control item-edit" title="Editar Item"><i class="fas fa-edit"></i></a>
                <a class="item-control item-delete" title="Excluir Item"><i class="fas fa-trash"></i></a>
              </div>
            </li>
            {{/if}}
          {{/each}}
        </ol>
      </div>
    </div>
    <div class="tab" data-group="primary" data-tab="biografia">
      <div class="box">
        <h3 class="box-header">Detalhes Biográficos</h3>
        {{editor system.detalhes.biografia target="system.detalhes.biografia" button=true owner=owner editable=editable}}
      </div>
    </div>
  </section>
</form>